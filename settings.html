<!DOCTYPE html>
<html>
<head>
  <title>Settings</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
  <h1>⚙️ Settings</h1>
  <nav>
    <a href="index.html">Stats</a>
    <a href="catalogue.html">Catalogue</a>
    <a href="settings.html">Settings</a>
  </nav>
</header>

<main>
  <div class="card settings-section">
    <h2>Appearance</h2>
    <p>Choose how the app looks.</p>
  
    <button id="themeToggle">Toggle Dark Mode</button>
  
    <h3 style="margin-top:1.5rem">Primary Colour</h3>
    <div class="accent-picker" id="accentPicker"></div>
  </div>


  <div class="card settings-section">
    <h2>Data</h2>
    <p>Manage your stored board game data.</p>
    <button id="resetData" class="danger">Reset All Data</button>
  </div>
</main>

<script>
  /* ---------- THEME ---------- */
  const themeToggle = document.getElementById("themeToggle");
  const savedTheme = localStorage.getItem("theme") || "light";
  document.documentElement.setAttribute("data-theme", savedTheme);

  themeToggle.addEventListener("click", () => {
    const next = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
    localStorage.setItem("theme", next);
    document.documentElement.setAttribute("data-theme", next);
  });

  /* ---------- ACCENT COLOUR ---------- */
  const accentPicker = document.getElementById("accentPicker");
  const savedAccent = localStorage.getItem("accent");

  if (savedAccent) {
    document.documentElement.style.setProperty("--accent", savedAccent);
    accentPicker.value = savedAccent;
  } else {
    accentPicker.value = getComputedStyle(document.documentElement)
      .getPropertyValue("--accent")
      .trim();
  }

  accentPicker.addEventListener("input", (e) => {
    const colour = e.target.value;
    document.documentElement.style.setProperty("--accent", colour);
    localStorage.setItem("accent", colour);
  });

  /* ---------- RESET ---------- */
  document.getElementById("resetData").addEventListener("click", () => {
    if (!confirm("Are you sure you want to delete ALL your game data? This cannot be undone!")) return;
    localStorage.clear();
    location.reload();
  });
</script>
</body>
</html>
